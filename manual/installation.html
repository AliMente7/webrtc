<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Installation | MixedReality-WebRTC Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Installation | MixedReality-WebRTC Documentation ">
    <meta name="generator" content="docfx 2.55.0.0">
    
    <link rel="shortcut icon" href="../mr-webrtc_icon.svg">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    <meta property="docfx:rel" content="../">
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../mr-webrtc_icon.png" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" id="branch-selector">
                <select name="branch"></select>
              </form>
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div class="container body-content">
        
        <div id="search-results">
          <div class="search-list"></div>
          <div class="sr-items">
            <p><i class="glyphicon glyphicon-refresh index-loading"></i></p>
          </div>
          <ul id="pagination"></ul>
        </div>
      </div>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="installation">Installation</h1>

<h2 id="c-library">C# library</h2>
<p>The C# library is consumed as a NuGet package by adding a dependency to that package in your C# project.</p>
<p>In Visual Studio 2019:</p>
<ul>
<li>Right-click on the C# project &gt; <strong>Manage NuGet Packages...</strong> to open the NuGet package manager window.</li>
<li>In the search bar, type &quot;Microsoft.MixedReality.WebRTC&quot;. You may need to check the <strong>Include prerelease</strong> option.</li>
<li>Select the NuGet package to install:
<ul>
<li>For a C# Desktop project, choose <code>Microsoft.MixedReality.WebRTC</code>.</li>
<li>For a C# UWP project, choose <code>Microsoft.MixedReality.WebRTC.UWP</code>.</li>
</ul>
</li>
<li>In the right panel, choose a version and click the <strong>Install</strong> button.</li>
</ul>
<p><img src="install-1.png" alt="Install"></p>
<p>This will add a dependency to the currently selected C# project. If multiple projects are using the MixedReality-WebRTC library, this process must be repeated for each project.</p>
<h2 id="c-library-1">C library</h2>
<p>The C library is consumed as a NuGet package by adding a dependency to that package in your C/C++ project. The C library is often referred to as the <strong>native</strong> library or <strong>implementation</strong> library.</p>
<div class="IMPORTANT">
<h5>Important</h5>
<p>The C++ library as distributed in the NuGet pacakges v1.x requires some internal headers from the Google's WebRTC implementation to be used, which are <strong>not</strong> shipped with the NuGet packages. See bug <a href="https://github.com/microsoft/MixedReality-WebRTC/issues/123">#123</a> for details. A workaround is to clone the repository <em>recursively</em> to get those headers (<code>git clone --recursive</code>). This defect is fixed in the C library starting from v2.0.</p>
</div>
<p>In Visual Studio 2019:</p>
<ul>
<li>Right-click on the C++ project &gt; <strong>Manage NuGet Packages...</strong> to open the NuGet package manager window.</li>
<li>Select the <strong>Browse</strong> tab.</li>
<li>In the search bar, type &quot;Microsoft.MixedReality.WebRTC.Native&quot;. You may need to check the <strong>Include prerelease</strong> option.</li>
<li>Select the NuGet package to install:
<ul>
<li>For a C++ Desktop project, choose <code>Microsoft.MixedReality.WebRTC.Native.Desktop</code>.</li>
<li>For a C++ UWP project, choose <code>Microsoft.MixedReality.WebRTC.Native.UWP</code>.</li>
</ul>
</li>
<li>In the right panel, choose a version and click the <strong>Install</strong> button.</li>
</ul>
<p><img src="install-2.png" alt="Install"></p>
<p>This will add a dependency to the currently selected C++ project. If multiple projects are using the MixedReality-WebRTC library, this process must be repeated for each project.</p>
<h2 id="unity-library">Unity library</h2>
<p>Starting from v2.0, a <a href="https://docs.unity3d.com/Manual/Packages.html">UPM package</a> named <code>com.microsoft.mixedreality.webrtc</code> is the main distribution method for the Unity library.</p>
<p>This package is currently distributed as <a href="https://docs.unity3d.com/Manual/upm-ui-local.html">an on-disk package (local package)</a> and requires the user to first build the C and C# libraries. The package manifest is located at <code>libs/unity/library/package.json</code>. There is currently no prebuilt UPM package including prebuilt binaries (yet).</p>
<h3 id="building-the-c-and-c-libraries">Building the C and C# libraries</h3>
<p>Follow <a href="building.html">the building instructions</a> to generate the <code>Microsoft.MixedReality.WebRTC.dll</code> C# assembly as well as any build variant of the <code>mrwebrtc</code> native C library needed for the Unity project to deploy on the platform the user targets.</p>
<ul>
<li>The Unity editor requires the x86_64 architecture of the Windows Desktop (Win32) variant.</li>
<li>HoloLens 1 requires the UWP x86 variant.</li>
<li>HoloLens 2 requires the UWP ARM variant (32-bit). ARM64 is not available.</li>
<li>Android deployment requires the arm64-v8a variant. Other ARM architectures are not supported.</li>
</ul>
<p>The Visual Studio solution used to build the Windows binaries (Desktop and UWP) will automatically copy the DLLs at the right location in the local git repository. If building Android from a Linux distribution (recommended) the <code>mrwebrtc.aar</code> archive needs to be manually copied to the Windows git repository.</p>
<p>Unlike the C native library, the C# library has only one common variant for all build architectures and platforms. However it is recommended to place the C# library assembly <code>Microsoft.MixedReality.WebRTC.dll</code> inside the <code>Win32/x86_64</code> sub-folder of the Unity plugins (the folder used by the Unity editor), as past experience showed that other layouts may lead to DLL discovery issue.</p>
<p>The above steps should result in the following hierarchy on disk, if building all possible build variants:</p>
<pre><code class="lang-sh">libs/unity/library/Runtime/Plugins/
├─ arm64-v8a.meta
├─ arm64-v8a/
|  ├─ mrwebrtc.aar
|  └─ mrwebrtc.aar.meta
├─ Win32.meta
├─ Win32/
|  ├─ x86.meta
|  ├─ x86/
|  |  ├─ mrwebrtc.dll
|  |  └─ mrwebrtc.dll.meta
|  ├─ x86_64.meta
|  └─ x86_64/
|     ├─ mrwebrtc.dll
|     ├─ mrwebrtc.dll.meta
|     ├─ Microsoft.MixedReality.WebRTC.dll
|     └─ Microsoft.MixedReality.WebRTC.dll.meta
├─ WSA.meta
└─ WSA/
   ├─ x86.meta
   ├─ x86/
   |  ├─ mrwebrtc.dll
   |  └─ mrwebrtc.dll.meta
   ├─ x86_64.meta
   ├─ x86_64/
   |  ├─ mrwebrtc.dll
   |  └─ mrwebrtc.dll.meta
   ├─ ARM.meta
   └─ ARM/
      ├─ mrwebrtc.dll
      └─ mrwebrtc.dll.meta
</code></pre>
<div class="NOTE">
<h5>Note</h5>
<p>The repository also contains some <code>.meta</code> files for the debug symbols databases (<code>.pdb</code>). The PDB are only necessary for debugging, thus the <code>.pdb.meta</code> files can be deleted. The other <code>.meta</code> files however need to be carefully safeguarded, as they contain the configuration needed for Unity to correctly deploy the binaries depending on the target platform.</p>
</div>
<h3 id="importing-the-upm-package">Importing the UPM package</h3>
<p>Follow <a href="https://docs.unity3d.com/Manual/upm-ui-local.html">the official Unity instructions</a> to import the library package into a Unity project after having compiled the library binaries, using the <code>libs/unity/library/package.json</code> file.</p>
<div class="NOTE">
<h5>Note</h5>
<p>If you already imported the library package into a Unity project <strong>before</strong> building the C and C# libraries, the Unity editor will find the <code>.meta</code> files without a corresponding asset and will attempt to delete those files thinking they are stale. Then once built the Unity editor will regenerate some new <code>.meta</code> files with a default configuration; unfortunately this configuration is generally wrong, and will prevent correct deployment and/or generate some error. You can close the Unity editor and revert its changes with <code>git reset</code> to restore the original <code>.meta</code> files checked in the GitHub repository, which contain the correct configuration for each binary file.</p>
</div>
<p>For more information about the <code>.meta</code> files and the per-platform configuration of the native library, see <a href="https://microsoft.github.io/MixedReality-WebRTC/manual/helloworld-unity-importwebrtc.html">Importing MixedReality-WebRTC</a> in the Unity tutorial.</p>
<p>The repository also contains an optional package <code>com.microsoft.mixedreality.webrtc.samples</code> imported via the <code>libs/unity/samples/package.json</code> file. This is an optional package containing some samples to show how to use the Unity library. This samples package depends on the library package.</p>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/microsoft/MixedReality-WebRTC/blob/master/docs/manual/installation.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/branches.gen.js"></script>
    <script type="text/javascript" src="../styles/branch-selector.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
  </body>
</html>
